{
  "version": 3,
  "sources": ["../../../../../../../ng-dev/pr/checkout/commit-message-filter.ts"],
  "sourcesContent": ["#!/usr/bin/env node\n\n/**\n * @license\n * Copyright Google LLC\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * Script that can be passed as commit message filter to `git filter-branch --msg-filter`.\n * The script rewrites commit messages to contain a Github instruction to close the\n * corresponding pull request. For more details. See: https://git.io/Jv64r.\n */\n\nmain();\n\nfunction main() {\n  const [prNumber] = process.argv.slice(2);\n  if (!prNumber) {\n    console.error('No pull request number specified.');\n    process.exit(1);\n  }\n\n  let commitMessage = '';\n  process.stdin.setEncoding('utf8');\n  process.stdin.on('readable', () => {\n    const chunk = process.stdin.read();\n    if (chunk !== null) {\n      commitMessage += chunk;\n    }\n  });\n\n  process.stdin.on('end', () => {\n    console.info(rewriteCommitMessage(commitMessage, prNumber));\n  });\n}\n\nfunction rewriteCommitMessage(message: string, prNumber: string) {\n  const lines = message.split(/\\n/);\n  lines.push(`Closes #${prNumber} as a pr takeover`);\n  return lines.join('\\n');\n}\n"],
  "mappings": ";;;;;;;AAgBA,KAAI;AAEJ,SAAS,OAAI;AACX,QAAM,CAAC,QAAQ,IAAI,QAAQ,KAAK,MAAM,CAAC;AACvC,MAAI,CAAC,UAAU;AACb,YAAQ,MAAM,mCAAmC;AACjD,YAAQ,KAAK,CAAC;EAChB;AAEA,MAAI,gBAAgB;AACpB,UAAQ,MAAM,YAAY,MAAM;AAChC,UAAQ,MAAM,GAAG,YAAY,MAAK;AAChC,UAAM,QAAQ,QAAQ,MAAM,KAAI;AAChC,QAAI,UAAU,MAAM;AAClB,uBAAiB;IACnB;EACF,CAAC;AAED,UAAQ,MAAM,GAAG,OAAO,MAAK;AAC3B,YAAQ,KAAK,qBAAqB,eAAe,QAAQ,CAAC;EAC5D,CAAC;AACH;AAEA,SAAS,qBAAqB,SAAiB,UAAgB;AAC7D,QAAM,QAAQ,QAAQ,MAAM,IAAI;AAChC,QAAM,KAAK,WAAW,2BAA2B;AACjD,SAAO,MAAM,KAAK,IAAI;AACxB;",
  "names": []
}
