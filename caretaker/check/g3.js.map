{"version":3,"file":"g3.js","sourceRoot":"","sources":["g3.ts"],"names":[],"mappings":"AAQA,OAAO,EAAC,IAAI,EAAE,KAAK,EAAE,GAAG,EAAC,MAAM,wBAAwB,CAAC;AACxD,OAAO,EAAc,OAAO,EAAC,MAAM,mBAAmB,CAAC;AAEvD,OAAO,EAAC,UAAU,EAAC,MAAM,WAAW,CAAC;AAErC,MAAM,OAAO,QAAS,SAAQ,UAA8B;IACjD,KAAK,CAAC,YAAY;QACzB,OAAO,MAAM,OAAO,CAAC,iBAAiB,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;IAChE,CAAC;IAEQ,KAAK,CAAC,eAAe;QAC5B,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC;QAC9B,IAAI,CAAC,KAAK,EAAE,CAAC;YACX,OAAO;QACT,CAAC;QACD,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC;QAClC,IAAI,KAAK,CAAC,KAAK,KAAK,CAAC,IAAI,KAAK,CAAC,aAAa,KAAK,CAAC,EAAE,CAAC;YACnD,GAAG,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC,OAAO,2BAA2B,IAAI,CAAC,GAAG,CAAC,cAAc,EAAE,CAAC,CAAC;YAC/E,GAAG,CAAC,IAAI,CAAC,IAAI,KAAK,CAAC,GAAG,CAAC,iCAAiC,CAAC,CAAC;QAC5D,CAAC;aAAM,IAAI,KAAK,CAAC,aAAa,GAAG,CAAC,EAAE,CAAC;YACnC,GAAG,CAAC,IAAI,CACN,GAAG,KAAK,CAAC,aAAa,8BAA8B,KAAK,CAAC,KAAK,0BAA0B;gBACvF,GAAG,KAAK,CAAC,UAAU,mBAAmB,KAAK,CAAC,SAAS,qBAAqB;gBAC1E,GAAG,KAAK,CAAC,OAAO,8CAA8C;gBAC9D,wFAAwF;gBACxF,sCAAsC,CACzC,CAAC;QACJ,CAAC;aAAM,CAAC;YACN,GAAG,CAAC,IAAI,CACN,GAAG,KAAK,CAAC,KAAK,mBAAmB,KAAK,CAAC,UAAU,mBAAmB,KAAK,CAAC,SAAS,GAAG;gBACpF,qBAAqB,KAAK,CAAC,OAAO,4CAA4C,CACjF,CAAC;QACJ,CAAC;QACD,GAAG,CAAC,IAAI,EAAE,CAAC;IACb,CAAC;CACF","sourcesContent":["/**\n * @license\n * Copyright Google LLC\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {bold, green, Log} from '../../utils/logging.js';\nimport {G3StatsData, G3Stats} from '../../utils/g3.js';\n\nimport {BaseModule} from './base.js';\n\nexport class G3Module extends BaseModule<G3StatsData | void> {\n  override async retrieveData() {\n    return await G3Stats.retrieveDiffStats(this.git, this.config);\n  }\n\n  override async printToTerminal() {\n    const stats = await this.data;\n    if (!stats) {\n      return;\n    }\n    Log.info(bold('g3 branch check'));\n    if (stats.files === 0 && stats.separateFiles === 0) {\n      Log.info(`${stats.commits} commits between g3 and ${this.git.mainBranchName}`);\n      Log.info(` ${green('âœ”')} No sync is needed at this time`);\n    } else if (stats.separateFiles > 0) {\n      Log.info(\n        `${stats.separateFiles} primitives files changed, ${stats.files} Angular files changed, ` +\n          `${stats.insertions} insertions(+), ${stats.deletions} deletions(-) from ` +\n          `${stats.commits} commits will be included in the next sync\\n` +\n          `Note: Shared primivites code has been merged. Only more Shared Primitives code can be ` +\n          `merged until the next sync is landed`,\n      );\n    } else {\n      Log.info(\n        `${stats.files} files changed, ${stats.insertions} insertions(+), ${stats.deletions} ` +\n          `deletions(-) from ${stats.commits} commits will be included in the next sync`,\n      );\n    }\n    Log.info();\n  }\n}\n"]}