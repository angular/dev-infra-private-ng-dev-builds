{"version":3,"file":"verify.js","sourceRoot":"","sources":["verify.ts"],"names":[],"mappings":"AAOA,OAAO,EAAC,YAAY,EAAC,MAAM,IAAI,CAAC;AAChC,OAAO,EAAC,OAAO,EAAC,MAAM,MAAM,CAAC;AAC7B,OAAO,EAAC,KAAK,IAAI,SAAS,EAAC,MAAM,MAAM,CAAC;AAExC,OAAO,EAAC,GAAG,EAAE,KAAK,EAAC,MAAM,qBAAqB,CAAC;AAC/C,OAAO,EAAC,SAAS,EAAC,MAAM,4BAA4B,CAAC;AAErD,MAAM,CAAC,KAAK,UAAU,MAAM;IAC1B,MAAM,GAAG,GAAG,MAAM,SAAS,CAAC,GAAG,EAAE,CAAC;IAElC,MAAM,sBAAsB,GAAG,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,2BAA2B,CAAC,CAAC;IAGjF,MAAM,SAAS,GAAG,YAAY,CAAC,sBAAsB,EAAE,MAAM,CAAC,CAAC;IAE/D,IAAI,CAAC;QAEH,SAAS,CAAC,SAAS,CAAC,CAAC;QACrB,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,4BAA4B,CAAC,CAAC,CAAC;IAChD,CAAC;IAAC,OAAO,CAAC,EAAE,CAAC;QACX,GAAG,CAAC,KAAK,CAAC,6BAA6B,CAAC,CAAC;QACzC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACb,OAAO,CAAC,QAAQ,GAAG,CAAC,CAAC;IACvB,CAAC;AACH,CAAC","sourcesContent":["/**\n * @license\n * Copyright Google LLC\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {readFileSync} from 'fs';\nimport {resolve} from 'path';\nimport {parse as parseYaml} from 'yaml';\n\nimport {Log, green} from '../utils/logging.js';\nimport {GitClient} from '../utils/git/git-client.js';\n\nexport async function verify() {\n  const git = await GitClient.get();\n  /** Full path to NgBot config file */\n  const NGBOT_CONFIG_YAML_PATH = resolve(git.baseDir, '.github/angular-robot.yml');\n\n  /** The NgBot config file */\n  const ngBotYaml = readFileSync(NGBOT_CONFIG_YAML_PATH, 'utf8');\n\n  try {\n    // Try parsing the config file to verify that the syntax is correct.\n    parseYaml(ngBotYaml);\n    Log.info(green('âœ”  Valid NgBot YAML config'));\n  } catch (e) {\n    Log.error(`! Invalid NgBot YAML config`);\n    Log.error(e);\n    process.exitCode = 1;\n  }\n}\n"]}