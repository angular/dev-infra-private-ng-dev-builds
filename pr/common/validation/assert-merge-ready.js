/**
 * @license
 * Copyright Google LLC
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
import { actionLabels } from '../labels/index.js';
import { createPullRequestValidation, PullRequestValidation } from './validation-config.js';
/** Assert the pull request is merge ready. */
// TODO: update typings to make sure portability is properly handled for windows build.
export const mergeReadyValidation = createPullRequestValidation({ name: 'assertMergeReady', canBeForceIgnored: false }, () => Validation);
class Validation extends PullRequestValidation {
    assert(pullRequest) {
        if (!pullRequest.labels.nodes.some(({ name }) => name === actionLabels.ACTION_MERGE.name)) {
            throw this._createError('Pull request is not marked as merge ready.');
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXNzZXJ0LW1lcmdlLXJlYWR5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbmctZGV2L3ByL2NvbW1vbi92YWxpZGF0aW9uL2Fzc2VydC1tZXJnZS1yZWFkeS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7O0dBTUc7QUFHSCxPQUFPLEVBQUMsWUFBWSxFQUFDLE1BQU0sb0JBQW9CLENBQUM7QUFDaEQsT0FBTyxFQUFDLDJCQUEyQixFQUFFLHFCQUFxQixFQUFDLE1BQU0sd0JBQXdCLENBQUM7QUFFMUYsOENBQThDO0FBQzlDLHVGQUF1RjtBQUN2RixNQUFNLENBQUMsTUFBTSxvQkFBb0IsR0FBRywyQkFBMkIsQ0FDN0QsRUFBQyxJQUFJLEVBQUUsa0JBQWtCLEVBQUUsaUJBQWlCLEVBQUUsS0FBSyxFQUFDLEVBQ3BELEdBQUcsRUFBRSxDQUFDLFVBQVUsQ0FDakIsQ0FBQztBQUVGLE1BQU0sVUFBVyxTQUFRLHFCQUFxQjtJQUM1QyxNQUFNLENBQUMsV0FBa0M7UUFDdkMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUMsSUFBSSxFQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksS0FBSyxZQUFZLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUM7WUFDeEYsTUFBTSxJQUFJLENBQUMsWUFBWSxDQUFDLDRDQUE0QyxDQUFDLENBQUM7UUFDeEUsQ0FBQztJQUNILENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuXG5pbXBvcnQge1B1bGxSZXF1ZXN0RnJvbUdpdGh1Yn0gZnJvbSAnLi4vZmV0Y2gtcHVsbC1yZXF1ZXN0LmpzJztcbmltcG9ydCB7YWN0aW9uTGFiZWxzfSBmcm9tICcuLi9sYWJlbHMvaW5kZXguanMnO1xuaW1wb3J0IHtjcmVhdGVQdWxsUmVxdWVzdFZhbGlkYXRpb24sIFB1bGxSZXF1ZXN0VmFsaWRhdGlvbn0gZnJvbSAnLi92YWxpZGF0aW9uLWNvbmZpZy5qcyc7XG5cbi8qKiBBc3NlcnQgdGhlIHB1bGwgcmVxdWVzdCBpcyBtZXJnZSByZWFkeS4gKi9cbi8vIFRPRE86IHVwZGF0ZSB0eXBpbmdzIHRvIG1ha2Ugc3VyZSBwb3J0YWJpbGl0eSBpcyBwcm9wZXJseSBoYW5kbGVkIGZvciB3aW5kb3dzIGJ1aWxkLlxuZXhwb3J0IGNvbnN0IG1lcmdlUmVhZHlWYWxpZGF0aW9uID0gY3JlYXRlUHVsbFJlcXVlc3RWYWxpZGF0aW9uKFxuICB7bmFtZTogJ2Fzc2VydE1lcmdlUmVhZHknLCBjYW5CZUZvcmNlSWdub3JlZDogZmFsc2V9LFxuICAoKSA9PiBWYWxpZGF0aW9uLFxuKTtcblxuY2xhc3MgVmFsaWRhdGlvbiBleHRlbmRzIFB1bGxSZXF1ZXN0VmFsaWRhdGlvbiB7XG4gIGFzc2VydChwdWxsUmVxdWVzdDogUHVsbFJlcXVlc3RGcm9tR2l0aHViKSB7XG4gICAgaWYgKCFwdWxsUmVxdWVzdC5sYWJlbHMubm9kZXMuc29tZSgoe25hbWV9KSA9PiBuYW1lID09PSBhY3Rpb25MYWJlbHMuQUNUSU9OX01FUkdFLm5hbWUpKSB7XG4gICAgICB0aHJvdyB0aGlzLl9jcmVhdGVFcnJvcignUHVsbCByZXF1ZXN0IGlzIG5vdCBtYXJrZWQgYXMgbWVyZ2UgcmVhZHkuJyk7XG4gICAgfVxuICB9XG59XG4iXX0=