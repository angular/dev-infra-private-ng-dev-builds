/**
 * @license
 * Copyright Google LLC
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
import { createPullRequestValidation, PullRequestValidation } from './validation-config.js';
/** Assert the pull request has completed all requested reviews. */
export const completedReviewsValidation = createPullRequestValidation({ name: 'assertCompletedReviews', canBeForceIgnored: false }, () => Validation);
class Validation extends PullRequestValidation {
    assert(pullRequest) {
        const totalCount = pullRequest.reviewRequests.totalCount;
        if (totalCount !== 0) {
            throw this._createError(`Pull request cannot be merged with pending reviews, it current has ${totalCount} pending review(s)`);
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXNzZXJ0LWNvbXBsZXRlZC1yZXZpZXdzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbmctZGV2L3ByL2NvbW1vbi92YWxpZGF0aW9uL2Fzc2VydC1jb21wbGV0ZWQtcmV2aWV3cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7O0dBTUc7QUFHSCxPQUFPLEVBQUMsMkJBQTJCLEVBQUUscUJBQXFCLEVBQUMsTUFBTSx3QkFBd0IsQ0FBQztBQUUxRixtRUFBbUU7QUFDbkUsTUFBTSxDQUFDLE1BQU0sMEJBQTBCLEdBQUcsMkJBQTJCLENBQ25FLEVBQUMsSUFBSSxFQUFFLHdCQUF3QixFQUFFLGlCQUFpQixFQUFFLEtBQUssRUFBQyxFQUMxRCxHQUFHLEVBQUUsQ0FBQyxVQUFVLENBQ2pCLENBQUM7QUFFRixNQUFNLFVBQVcsU0FBUSxxQkFBcUI7SUFDNUMsTUFBTSxDQUFDLFdBQWtDO1FBQ3ZDLE1BQU0sVUFBVSxHQUFHLFdBQVcsQ0FBQyxjQUFjLENBQUMsVUFBVSxDQUFDO1FBQ3pELElBQUksVUFBVSxLQUFLLENBQUMsRUFBRSxDQUFDO1lBQ3JCLE1BQU0sSUFBSSxDQUFDLFlBQVksQ0FDckIsc0VBQXNFLFVBQVUsb0JBQW9CLENBQ3JHLENBQUM7UUFDSixDQUFDO0lBQ0gsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTENcbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5cbmltcG9ydCB7UHVsbFJlcXVlc3RGcm9tR2l0aHVifSBmcm9tICcuLi9mZXRjaC1wdWxsLXJlcXVlc3QuanMnO1xuaW1wb3J0IHtjcmVhdGVQdWxsUmVxdWVzdFZhbGlkYXRpb24sIFB1bGxSZXF1ZXN0VmFsaWRhdGlvbn0gZnJvbSAnLi92YWxpZGF0aW9uLWNvbmZpZy5qcyc7XG5cbi8qKiBBc3NlcnQgdGhlIHB1bGwgcmVxdWVzdCBoYXMgY29tcGxldGVkIGFsbCByZXF1ZXN0ZWQgcmV2aWV3cy4gKi9cbmV4cG9ydCBjb25zdCBjb21wbGV0ZWRSZXZpZXdzVmFsaWRhdGlvbiA9IGNyZWF0ZVB1bGxSZXF1ZXN0VmFsaWRhdGlvbihcbiAge25hbWU6ICdhc3NlcnRDb21wbGV0ZWRSZXZpZXdzJywgY2FuQmVGb3JjZUlnbm9yZWQ6IGZhbHNlfSxcbiAgKCkgPT4gVmFsaWRhdGlvbixcbik7XG5cbmNsYXNzIFZhbGlkYXRpb24gZXh0ZW5kcyBQdWxsUmVxdWVzdFZhbGlkYXRpb24ge1xuICBhc3NlcnQocHVsbFJlcXVlc3Q6IFB1bGxSZXF1ZXN0RnJvbUdpdGh1Yikge1xuICAgIGNvbnN0IHRvdGFsQ291bnQgPSBwdWxsUmVxdWVzdC5yZXZpZXdSZXF1ZXN0cy50b3RhbENvdW50O1xuICAgIGlmICh0b3RhbENvdW50ICE9PSAwKSB7XG4gICAgICB0aHJvdyB0aGlzLl9jcmVhdGVFcnJvcihcbiAgICAgICAgYFB1bGwgcmVxdWVzdCBjYW5ub3QgYmUgbWVyZ2VkIHdpdGggcGVuZGluZyByZXZpZXdzLCBpdCBjdXJyZW50IGhhcyAke3RvdGFsQ291bnR9IHBlbmRpbmcgcmV2aWV3KHMpYCxcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG4iXX0=