{"version":3,"file":"managed.js","sourceRoot":"","sources":["managed.ts"],"names":[],"mappings":"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","sourcesContent":["import {Commit} from '../../../commit-message/parse.js';\nimport {createTypedObject, Label, LabelParams, ManagedRepositories} from './base.js';\n\nexport interface ManageLabelParams extends LabelParams {\n  /** A matching function, if the label is automatically applied by our github action, otherwise false. */\n  commitCheck: (c: Commit) => boolean;\n}\n\nclass ManagedLabel extends Label<ManageLabelParams> {\n  /** A matching function, if the label is automatically applied by our github action, otherwise false. */\n  commitCheck: (c: Commit) => boolean = this.params.commitCheck;\n}\n\nexport const managedLabels = createTypedObject(ManagedLabel)({\n  DETECTED_BREAKING_CHANGE: {\n    description: 'PR contains a commit with a breaking change',\n    name: 'detected: breaking change',\n    commitCheck: (c: Commit) => c.breakingChanges.length !== 0,\n  },\n  DETECTED_DEPRECATION: {\n    description: 'PR contains a commit with a deprecation',\n    name: 'detected: deprecation',\n    commitCheck: (c: Commit) => c.deprecations.length !== 0,\n  },\n  DETECTED_FEATURE: {\n    description: 'PR contains a feature commit',\n    name: 'detected: feature',\n    commitCheck: (c: Commit) => c.type === 'feat',\n  },\n  DETECTED_DOCS_CHANGE: {\n    description: 'Related to the documentation',\n    name: 'area: docs',\n    commitCheck: (c: Commit) => c.type === 'docs',\n  },\n  DETECTED_INFRA_CHANGE: {\n    description: 'Related the build and CI infrastructure of the project',\n    name: 'area: build & ci',\n    commitCheck: (c: Commit) => c.type === 'build' || c.type === 'ci',\n  },\n  DETECTED_PERF_CHANGE: {\n    description: 'Issues related to performance',\n    name: 'area: performance',\n    commitCheck: (c: Commit) => c.type === 'perf',\n  },\n\n  // angular/angular specific labels.\n  DETECTED_HTTP_CHANGE: {\n    description: 'Issues related to HTTP and HTTP Client',\n    name: 'area: common/http',\n    commitCheck: (c: Commit) => c.scope === 'common/http' || c.scope === 'http',\n    repositories: [ManagedRepositories.ANGULAR],\n  },\n  DETECTED_COMPILER_CHANGE: {\n    description: \"Issues related to `ngc`, Angular's template compiler\",\n    name: 'area: compiler',\n    commitCheck: (c: Commit) => c.scope === 'compiler' || c.scope === 'compiler-cli',\n    repositories: [ManagedRepositories.ANGULAR],\n  },\n  DETECTED_PLATFORM_BROWSER_CHANGE: {\n    description: 'Issues related to the framework runtime',\n    name: 'area: core',\n    commitCheck: (c: Commit) =>\n      c.scope === 'platform-browser' ||\n      c.scope === 'core' ||\n      c.scope === 'platform-browser-dynamic',\n    repositories: [ManagedRepositories.ANGULAR],\n  },\n  DETECTED_PLATFORM_SERVER_CHANGE: {\n    description: 'Issues related to server-side rendering',\n    name: 'area: server',\n    commitCheck: (c: Commit) => c.scope === 'platform-server',\n    repositories: [ManagedRepositories.ANGULAR],\n  },\n  DETECTED_ZONES_CHANGE: {\n    description: 'Issues related to zone.js',\n    name: 'area: zones',\n    commitCheck: (c: Commit) => c.scope === 'zone.js',\n    repositories: [ManagedRepositories.ANGULAR],\n  },\n  DETECTED_LOCALIZE_CHANGE: {\n    description: 'Issues related to localization and internationalization',\n    name: 'area: i18n',\n    commitCheck: (c: Commit) => c.scope === 'localize',\n    repositories: [ManagedRepositories.ANGULAR],\n  },\n});\n"]}