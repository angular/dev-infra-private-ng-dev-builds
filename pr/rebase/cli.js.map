{"version":3,"file":"cli.js","sourceRoot":"","sources":["cli.ts"],"names":[],"mappings":"AAUA,OAAO,EAAC,oBAAoB,EAAC,MAAM,iCAAiC,CAAC;AAErE,OAAO,EAAC,QAAQ,EAAC,MAAM,YAAY,CAAC;AASpC,SAAS,OAAO,CAAC,IAAU;IACzB,OAAO,oBAAoB,CAAC,IAAI,CAAC;SAC9B,UAAU,CAAC,IAAI,EAAE,EAAC,IAAI,EAAE,QAAQ,EAAE,YAAY,EAAE,IAAI,EAAC,CAAC;SACtD,MAAM,CAAC,aAAa,EAAE;QACrB,IAAI,EAAE,SAAS;QACf,KAAK,EAAE,CAAC,GAAG,CAAC;QACZ,YAAY,EAAE,KAAK;QACnB,QAAQ,EAAE,wEAAwE;KACnF,CAAC,CAAC;AACP,CAAC;AAGD,KAAK,UAAU,OAAO,CAAC,EAAC,EAAE,EAAE,CAAC,EAA2B;IACtD,OAAO,CAAC,QAAQ,GAAG,MAAM,QAAQ,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;AAC3C,CAAC;AAGD,MAAM,CAAC,MAAM,mBAAmB,GAAqC;IACnE,OAAO;IACP,OAAO;IACP,OAAO,EAAE,aAAa;IACtB,QAAQ,EAAE,iEAAiE;CAC5E,CAAC","sourcesContent":["/**\n * @license\n * Copyright Google LLC\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Argv, Arguments, CommandModule} from 'yargs';\n\nimport {addGithubTokenOption} from '../../utils/git/github-yargs.js';\n\nimport {rebasePr} from './index.js';\n\n/** The options available to the rebase command via CLI. */\nexport interface RebaseOptions {\n  pr: number;\n  i?: boolean;\n}\n\n/** Builds the rebase pull request command. */\nfunction builder(argv: Argv): Argv<RebaseOptions> {\n  return addGithubTokenOption(argv)\n    .positional('pr', {type: 'number', demandOption: true})\n    .option('interactive', {\n      type: 'boolean',\n      alias: ['i'],\n      demandOption: false,\n      describe: 'Do the rebase interactively so that things can be squashed and amended',\n    });\n}\n\n/** Handles the rebase pull request command. */\nasync function handler({pr, i}: Arguments<RebaseOptions>) {\n  process.exitCode = await rebasePr(pr, i);\n}\n\n/** yargs command module for rebasing a PR  */\nexport const RebaseCommandModule: CommandModule<{}, RebaseOptions> = {\n  handler,\n  builder,\n  command: 'rebase <pr>',\n  describe: 'Rebase a pending PR and push the rebased commits back to Github',\n};\n"]}