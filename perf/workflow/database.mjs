/**
 * @license
 * Copyright Google LLC
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
import { Spanner } from '@google-cloud/spanner';
/** Add a single workflow performance result to the spanner database. */
export async function addWorkflowPerformanceResult(result) {
    /** The spanner client instance. */
    const spanner = new Spanner({
        projectId: 'internal-200822',
    });
    /** The spanner instance within our project. */
    const instance = spanner.instance('ng-measurables');
    /** The commit performance database within our spanner instance. */
    const database = instance.database('commit_performance');
    /** The table holding workflow performance information. */
    const workflowPerformanceTable = database.table('WorkflowPerformance');
    try {
        await workflowPerformanceTable.insert(result);
    }
    finally {
        await database.close();
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0YWJhc2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9uZy1kZXYvcGVyZi93b3JrZmxvdy9kYXRhYmFzZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7O0dBTUc7QUFFSCxPQUFPLEVBQUMsT0FBTyxFQUFDLE1BQU0sdUJBQXVCLENBQUM7QUEyQjlDLHdFQUF3RTtBQUN4RSxNQUFNLENBQUMsS0FBSyxVQUFVLDRCQUE0QixDQUFDLE1BQW9DO0lBQ3JGLG1DQUFtQztJQUNuQyxNQUFNLE9BQU8sR0FBRyxJQUFJLE9BQU8sQ0FBQztRQUMxQixTQUFTLEVBQUUsaUJBQWlCO0tBQzdCLENBQUMsQ0FBQztJQUNILCtDQUErQztJQUMvQyxNQUFNLFFBQVEsR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLGdCQUFnQixDQUFDLENBQUM7SUFDcEQsbUVBQW1FO0lBQ25FLE1BQU0sUUFBUSxHQUFHLFFBQVEsQ0FBQyxRQUFRLENBQUMsb0JBQW9CLENBQUMsQ0FBQztJQUN6RCwwREFBMEQ7SUFDMUQsTUFBTSx3QkFBd0IsR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDLHFCQUFxQixDQUFDLENBQUM7SUFFdkUsSUFBSSxDQUFDO1FBQ0gsTUFBTSx3QkFBd0IsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDaEQsQ0FBQztZQUFTLENBQUM7UUFDVCxNQUFNLFFBQVEsQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUN6QixDQUFDO0FBQ0gsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuXG5pbXBvcnQge1NwYW5uZXJ9IGZyb20gJ0Bnb29nbGUtY2xvdWQvc3Bhbm5lcic7XG5cbi8qKlxuICogVGhlIHdvcmtmbG93IHBlcmZvcm1hbmNlIHJlc3VsdHMgYXJlIHN0b3JlZCBpbiBhIHNwYW5uZXIgZGF0YWJhc2Ugd2l0aGluIG91clxuICogcHJvamVjdCB0byBiZSBhYmxlIHRvIHJldHJpZXZlIGxhdGVyLCBUaGUgY29tbWl0IHNoYSB3aWxsIGJlIHVzZWQgYXMgYSBmb3JlaWduXG4gKiBrZXkgdG8gcG9pbnQgdG8gc3BlY2lmaWMgY29tbWl0cyBmb3VuZCBpbiB0aGUgdGFibGUgb2YgY29tbWl0IHNoYXMgZXhwcmVzc2luZ1xuICogdGhlIGZ1bGwgZ3JhcGggb2YgY29tbWl0cyB3aXRoaW4gdGhlIGdpdCBncmFwaCBmb3IgdGhlIHJlcG9zaXRvcnkuXG4gKlxuICogVGhlIHdvcmtmbG93IHBlcmZvcm1hbmNlIHRhYmxlIGlzIGRlZmluZWQgd2l0aCB0aGUgZm9sbG93aW5nIGNoYXJhY3RlcmlzdGljcy5cbiAqXG4gKiB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XG4gKiB8ICAgICAgICAgICAgICBDb2x1bW4gICAgICAgICAgICAgIHwgICAgIFR5cGUgICAgIHwgICAgICAgTm90ZXMgICAgICB8XG4gKiB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XG4gKiB8ICAgICB3b3JrZmxvd19wZXJmb3JtYW5jZV9pZCAgICAgIHwgIFNUUklORygzNikgIHwgICBBdXRvZ2VuZXJhdGVkICB8XG4gKiB8ICAgICBjb21taXRfc2hhICAgICAgICAgICAgICAgICAgIHwgIFNUUklORyg0MCkgIHwgICAgICAgICAgICAgICAgICB8XG4gKiB8ICAgICB2YWx1ZSAgICAgICAgICAgICAgICAgICAgICAgIHwgIEZMT0FUNjQgICAgIHwgICAgICAgICAgICAgICAgICB8XG4gKiB8ICAgICBuYW1lICAgICAgICAgICAgICAgICAgICAgICAgIHwgIFNUUklORygyNTYpIHwgICAgICAgICAgICAgICAgICB8XG4gKiB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XG4gKi9cblxuLyoqIFRoZSByZXVzbHQgb2Ygd29ya2Zsb3cgcGVyZm9ybWFuY2UgZXJlc3VsdCB0byBiZSBzdG9yZWQgaW4gdGhlIGRhdGFiYXNlLiAqL1xuZXhwb3J0IGludGVyZmFjZSBXb3JrZmxvd1BlcmZvcm1hbmNlUm93UmVzdWx0IHtcbiAgY29tbWl0X3NoYTogc3RyaW5nO1xuICB2YWx1ZTogbnVtYmVyO1xuICBuYW1lOiBzdHJpbmc7XG59XG5cbi8qKiBBZGQgYSBzaW5nbGUgd29ya2Zsb3cgcGVyZm9ybWFuY2UgcmVzdWx0IHRvIHRoZSBzcGFubmVyIGRhdGFiYXNlLiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFkZFdvcmtmbG93UGVyZm9ybWFuY2VSZXN1bHQocmVzdWx0OiBXb3JrZmxvd1BlcmZvcm1hbmNlUm93UmVzdWx0KSB7XG4gIC8qKiBUaGUgc3Bhbm5lciBjbGllbnQgaW5zdGFuY2UuICovXG4gIGNvbnN0IHNwYW5uZXIgPSBuZXcgU3Bhbm5lcih7XG4gICAgcHJvamVjdElkOiAnaW50ZXJuYWwtMjAwODIyJyxcbiAgfSk7XG4gIC8qKiBUaGUgc3Bhbm5lciBpbnN0YW5jZSB3aXRoaW4gb3VyIHByb2plY3QuICovXG4gIGNvbnN0IGluc3RhbmNlID0gc3Bhbm5lci5pbnN0YW5jZSgnbmctbWVhc3VyYWJsZXMnKTtcbiAgLyoqIFRoZSBjb21taXQgcGVyZm9ybWFuY2UgZGF0YWJhc2Ugd2l0aGluIG91ciBzcGFubmVyIGluc3RhbmNlLiAqL1xuICBjb25zdCBkYXRhYmFzZSA9IGluc3RhbmNlLmRhdGFiYXNlKCdjb21taXRfcGVyZm9ybWFuY2UnKTtcbiAgLyoqIFRoZSB0YWJsZSBob2xkaW5nIHdvcmtmbG93IHBlcmZvcm1hbmNlIGluZm9ybWF0aW9uLiAqL1xuICBjb25zdCB3b3JrZmxvd1BlcmZvcm1hbmNlVGFibGUgPSBkYXRhYmFzZS50YWJsZSgnV29ya2Zsb3dQZXJmb3JtYW5jZScpO1xuXG4gIHRyeSB7XG4gICAgYXdhaXQgd29ya2Zsb3dQZXJmb3JtYW5jZVRhYmxlLmluc2VydChyZXN1bHQpO1xuICB9IGZpbmFsbHkge1xuICAgIGF3YWl0IGRhdGFiYXNlLmNsb3NlKCk7XG4gIH1cbn1cbiJdfQ==