{"version":3,"file":"build-worker.js","sourceRoot":"","sources":["build-worker.ts"],"names":[],"mappings":"AAeA,OAAO,EAAC,SAAS,EAAC,MAAM,uBAAuB,CAAC;AAChD,OAAO,EAAC,wBAAwB,EAAC,MAAM,oBAAoB,CAAC;AAG5D,IAAI,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE;IACjB,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;IACjB,MAAM,CAAC,CAAC;AACV,CAAC,CAAC,CAAC;AAGH,KAAK,UAAU,IAAI;IACjB,IAAI,OAAO,CAAC,IAAI,KAAK,SAAS,EAAE,CAAC;QAC/B,MAAM,KAAK,CAAC,qDAAqD,CAAC,CAAC;IACrE,CAAC;IAED,MAAM,MAAM,GAAG,MAAM,SAAS,EAAE,CAAC;IACjC,wBAAwB,CAAC,MAAM,CAAC,CAAC;IAEjC,MAAM,aAAa,GAAG,MAAM,MAAM,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC;IAG3D,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;AAC9B,CAAC","sourcesContent":["/**\n * @license\n * Copyright Google LLC\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/*\n * This file will be spawned as a separate process when the `ng-dev release build` command is\n * invoked. A separate process allows us to hide any superfluous stdout output from arbitrary\n * build commands that we cannot control. This is necessary as the `ng-dev release build` command\n * supports stdout JSON output that should be parsable and not polluted from other stdout messages.\n */\n\nimport {getConfig} from '../../utils/config.js';\nimport {assertValidReleaseConfig} from '../config/index.js';\n\n// Start the release package building.\nmain().catch((e) => {\n  console.error(e);\n  throw e;\n});\n\n/** Main function for building the release packages. */\nasync function main() {\n  if (process.send === undefined) {\n    throw Error('This script needs to be invoked as a NodeJS worker.');\n  }\n\n  const config = await getConfig();\n  assertValidReleaseConfig(config);\n\n  const builtPackages = await config.release.buildPackages();\n\n  // Transfer the built packages back to the parent process.\n  process.send(builtPackages);\n}\n"]}