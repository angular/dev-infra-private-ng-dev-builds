/**
 * @license
 * Copyright Google LLC
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
import { semverInc } from '../../../utils/semver.js';
import { CutNpmNextPrereleaseAction } from './cut-npm-next-prerelease.js';
/**
 * Release action that allows for the NPM `@next` first release-candidate. The
 * action is only active when there is a current feature-freeze going on.
 *
 * The action will bump the pre-release version from the `-next` prerelease to
 * the first release-candidate. The action will then become inactive again as
 * additional RC pre-releases would be handled by `CutNpmNextPrereleaseAction` then.
 *
 * Additional note: There is a separate action allowing in-progress minor's to
 * go directly into the RC phase from the `next` train. See `MoveNextIntoReleaseCandidate`.
 */
export class CutNpmNextReleaseCandidateAction extends CutNpmNextPrereleaseAction {
    async getDescription() {
        return await super.getReleaseCandidateDescription();
    }
    async getNewVersion() {
        return semverInc(this.releaseTrain.version, 'prerelease', 'rc');
    }
    static async isActive(active) {
        // A NPM `@next` release-candidate can only be cut if we are in feature-freeze.
        return active.isFeatureFreeze();
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3V0LW5wbS1uZXh0LXJlbGVhc2UtY2FuZGlkYXRlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbmctZGV2L3JlbGVhc2UvcHVibGlzaC9hY3Rpb25zL2N1dC1ucG0tbmV4dC1yZWxlYXNlLWNhbmRpZGF0ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7O0dBTUc7QUFHSCxPQUFPLEVBQUMsU0FBUyxFQUFDLE1BQU0sMEJBQTBCLENBQUM7QUFFbkQsT0FBTyxFQUFDLDBCQUEwQixFQUFDLE1BQU0sOEJBQThCLENBQUM7QUFFeEU7Ozs7Ozs7Ozs7R0FVRztBQUNILE1BQU0sT0FBTyxnQ0FBaUMsU0FBUSwwQkFBMEI7SUFDckUsS0FBSyxDQUFDLGNBQWM7UUFDM0IsT0FBTyxNQUFNLEtBQUssQ0FBQyw4QkFBOEIsRUFBRSxDQUFDO0lBQ3RELENBQUM7SUFFUSxLQUFLLENBQUMsYUFBYTtRQUMxQixPQUFPLFNBQVMsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sRUFBRSxZQUFZLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDbEUsQ0FBQztJQUVELE1BQU0sQ0FBVSxLQUFLLENBQUMsUUFBUSxDQUFDLE1BQTJCO1FBQ3hELCtFQUErRTtRQUMvRSxPQUFPLE1BQU0sQ0FBQyxlQUFlLEVBQUUsQ0FBQztJQUNsQyxDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQ1xuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cblxuaW1wb3J0IHNlbXZlciBmcm9tICdzZW12ZXInO1xuaW1wb3J0IHtzZW12ZXJJbmN9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3NlbXZlci5qcyc7XG5pbXBvcnQge0FjdGl2ZVJlbGVhc2VUcmFpbnN9IGZyb20gJy4uLy4uL3ZlcnNpb25pbmcvYWN0aXZlLXJlbGVhc2UtdHJhaW5zLmpzJztcbmltcG9ydCB7Q3V0TnBtTmV4dFByZXJlbGVhc2VBY3Rpb259IGZyb20gJy4vY3V0LW5wbS1uZXh0LXByZXJlbGVhc2UuanMnO1xuXG4vKipcbiAqIFJlbGVhc2UgYWN0aW9uIHRoYXQgYWxsb3dzIGZvciB0aGUgTlBNIGBAbmV4dGAgZmlyc3QgcmVsZWFzZS1jYW5kaWRhdGUuIFRoZVxuICogYWN0aW9uIGlzIG9ubHkgYWN0aXZlIHdoZW4gdGhlcmUgaXMgYSBjdXJyZW50IGZlYXR1cmUtZnJlZXplIGdvaW5nIG9uLlxuICpcbiAqIFRoZSBhY3Rpb24gd2lsbCBidW1wIHRoZSBwcmUtcmVsZWFzZSB2ZXJzaW9uIGZyb20gdGhlIGAtbmV4dGAgcHJlcmVsZWFzZSB0b1xuICogdGhlIGZpcnN0IHJlbGVhc2UtY2FuZGlkYXRlLiBUaGUgYWN0aW9uIHdpbGwgdGhlbiBiZWNvbWUgaW5hY3RpdmUgYWdhaW4gYXNcbiAqIGFkZGl0aW9uYWwgUkMgcHJlLXJlbGVhc2VzIHdvdWxkIGJlIGhhbmRsZWQgYnkgYEN1dE5wbU5leHRQcmVyZWxlYXNlQWN0aW9uYCB0aGVuLlxuICpcbiAqIEFkZGl0aW9uYWwgbm90ZTogVGhlcmUgaXMgYSBzZXBhcmF0ZSBhY3Rpb24gYWxsb3dpbmcgaW4tcHJvZ3Jlc3MgbWlub3IncyB0b1xuICogZ28gZGlyZWN0bHkgaW50byB0aGUgUkMgcGhhc2UgZnJvbSB0aGUgYG5leHRgIHRyYWluLiBTZWUgYE1vdmVOZXh0SW50b1JlbGVhc2VDYW5kaWRhdGVgLlxuICovXG5leHBvcnQgY2xhc3MgQ3V0TnBtTmV4dFJlbGVhc2VDYW5kaWRhdGVBY3Rpb24gZXh0ZW5kcyBDdXROcG1OZXh0UHJlcmVsZWFzZUFjdGlvbiB7XG4gIG92ZXJyaWRlIGFzeW5jIGdldERlc2NyaXB0aW9uKCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIGF3YWl0IHN1cGVyLmdldFJlbGVhc2VDYW5kaWRhdGVEZXNjcmlwdGlvbigpO1xuICB9XG5cbiAgb3ZlcnJpZGUgYXN5bmMgZ2V0TmV3VmVyc2lvbigpOiBQcm9taXNlPHNlbXZlci5TZW1WZXI+IHtcbiAgICByZXR1cm4gc2VtdmVySW5jKHRoaXMucmVsZWFzZVRyYWluLnZlcnNpb24sICdwcmVyZWxlYXNlJywgJ3JjJyk7XG4gIH1cblxuICBzdGF0aWMgb3ZlcnJpZGUgYXN5bmMgaXNBY3RpdmUoYWN0aXZlOiBBY3RpdmVSZWxlYXNlVHJhaW5zKSB7XG4gICAgLy8gQSBOUE0gYEBuZXh0YCByZWxlYXNlLWNhbmRpZGF0ZSBjYW4gb25seSBiZSBjdXQgaWYgd2UgYXJlIGluIGZlYXR1cmUtZnJlZXplLlxuICAgIHJldHVybiBhY3RpdmUuaXNGZWF0dXJlRnJlZXplKCk7XG4gIH1cbn1cbiJdfQ==