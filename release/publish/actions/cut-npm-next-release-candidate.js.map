{"version":3,"file":"cut-npm-next-release-candidate.js","sourceRoot":"","sources":["cut-npm-next-release-candidate.ts"],"names":[],"mappings":"AASA,OAAO,EAAC,SAAS,EAAC,MAAM,0BAA0B,CAAC;AAEnD,OAAO,EAAC,0BAA0B,EAAC,MAAM,8BAA8B,CAAC;AAaxE,MAAM,OAAO,gCAAiC,SAAQ,0BAA0B;IACrE,KAAK,CAAC,cAAc;QAC3B,OAAO,MAAM,KAAK,CAAC,8BAA8B,EAAE,CAAC;IACtD,CAAC;IAEQ,KAAK,CAAC,aAAa;QAC1B,OAAO,SAAS,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,YAAY,EAAE,IAAI,CAAC,CAAC;IAClE,CAAC;IAED,MAAM,CAAU,KAAK,CAAC,QAAQ,CAAC,MAA2B;QAExD,OAAO,MAAM,CAAC,eAAe,EAAE,CAAC;IAClC,CAAC;CACF","sourcesContent":["/**\n * @license\n * Copyright Google LLC\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport semver from 'semver';\nimport {semverInc} from '../../../utils/semver.js';\nimport {ActiveReleaseTrains} from '../../versioning/active-release-trains.js';\nimport {CutNpmNextPrereleaseAction} from './cut-npm-next-prerelease.js';\n\n/**\n * Release action that allows for the NPM `@next` first release-candidate. The\n * action is only active when there is a current feature-freeze going on.\n *\n * The action will bump the pre-release version from the `-next` prerelease to\n * the first release-candidate. The action will then become inactive again as\n * additional RC pre-releases would be handled by `CutNpmNextPrereleaseAction` then.\n *\n * Additional note: There is a separate action allowing in-progress minor's to\n * go directly into the RC phase from the `next` train. See `MoveNextIntoReleaseCandidate`.\n */\nexport class CutNpmNextReleaseCandidateAction extends CutNpmNextPrereleaseAction {\n  override async getDescription(): Promise<string> {\n    return await super.getReleaseCandidateDescription();\n  }\n\n  override async getNewVersion(): Promise<semver.SemVer> {\n    return semverInc(this.releaseTrain.version, 'prerelease', 'rc');\n  }\n\n  static override async isActive(active: ActiveReleaseTrains) {\n    // A NPM `@next` release-candidate can only be cut if we are in feature-freeze.\n    return active.isFeatureFreeze();\n  }\n}\n"]}